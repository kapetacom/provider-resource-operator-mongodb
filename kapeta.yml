kind: core/resource-type-operator
metadata:
  name: kapeta/resource-type-mongodb
  title: MongoDB
  description: Use MongoDB in your plans
spec:
  ports:
    - type: mongodb
  local:
    image: mongo:4.0
    health:
      cmd: echo 'db.runCommand("ping").ok' | mongo test --quiet
      interval: 5000
    ports:
      mongodb:
        port: 27017
        type: tcp
    mounts:
      db: /data/db
    env:
      MONGO_INITDB_ROOT_USERNAME: 'root'
      MONGO_INITDB_ROOT_PASSWORD: 'root'
    credentials:
      username: root
      password: root

